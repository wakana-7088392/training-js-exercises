# ch15.01-03/ex01

## 問題2.index.html ファイル内の script タグから type="module" 属性を削除した場合、期待通り動作させるにはどうすべきか答えなさい。

- 回答
  - DOMContentLoadedイベントを使用する
- メモ

  - DOMContentLoadedイベント
    - HTMLドキュメントの構造が完全に読み込まれた時に発生する。
    - HTMLの解析が完了して、DOMツリーが構築されて初めて発生する。
  - なぜ必要か
    - type = "module"を使用すると、遅延評価される。遅延評価されると、HTMLタグ等がjsファイル内の要素を要求した際に、その要素を提供できるようになる。逆に遅延評価が入らないと、要素がとれなくなるらしい。
    - type = "module"を削除したことで、遅延評価がされなくなる。
    - DOMContentLoadedイベントで今回の処理を囲い、HTMLドキュメントの構造が完全に読み込まれた後に動作させることで、遅延評価と同じあるいは類似した処理構成にする必要があるから。

- defer/asyncでもいける。
